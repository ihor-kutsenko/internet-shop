{"mappings":"gfAEA,IAYoBA,EACFC,EAblBC,EAAAC,EAAA,S,uCAUMC,EAASC,SAASC,cAAc,cAChCC,EAAOF,SAASC,cAAc,YAC9BE,EAAmE,QAArDR,EAAAS,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOC,sBAAc,IAArDd,IAAyD,GACvEe,EAA+D,QAAnDd,EAAAQ,KAAKC,MAAMC,aAAaC,QAAQV,EAAAW,OAAOG,oBAAY,IAAnDf,IAAuD,GAmCzE,SAASgB,EAAYC,GACjB,IAAMC,EAAYC,OAAOF,EAAKG,QAAQ,YAAYC,QAAQC,IAE5D,OAAOC,EAAAC,YAAYC,MAAK,SAAAC,G,OAAIA,EAAFJ,KAAeJ,C,IAjC3CZ,EAAKqB,iBAAiB,SAEtB,SAAiBC,GAGf,GAFAA,EAAIC,iBAEAD,EAAIE,OAAOC,UAAUC,SAAS,WAAY,CAC5C,IAAMC,EAAUjB,EAAYY,EAAIE,SAChC,EAAAI,EAAAC,aAAYF,E,CAGd,GAAIL,EAAIE,OAAOC,UAAUC,SAAS,eAAgB,CAChD,IAAMI,EAAUpB,EAAYY,EAAIE,QAEhC,GADkBvB,EAAY8B,MAAK,SAAAX,G,OAAKA,EAAFJ,KAAgBc,EAAQd,E,IAE5D,OAEFf,EAAY+B,KAAKF,GACjB1B,aAAa6B,QAAQtC,EAAAW,OAAOC,aAAcL,KAAKgC,UAAUjC,G,CAI3D,GAAIqB,EAAIE,OAAOC,UAAUC,SAAS,aAAc,CAC9C,IAAMS,EAAUzB,EAAYY,EAAIE,QAChChB,EAAUwB,KAAKG,GACf/B,aAAa6B,QAAQtC,EAAAW,OAAOG,WAAYP,KAAKgC,UAAU1B,G,MAI3D,EAAA4B,EAAAC,cAAapB,EAAAC,YAAalB,GAS1BH,EAAOwB,iBAAiB,SAExB,WACE,IAAMiB,EAAczC,EAAO0C,MAAMC,cAC3BC,EAAmBxB,EAAAC,YAAYwB,QAAO,SAAAf,G,OAC1CA,EAAQgB,KAAKH,cAAcI,SAASN,E,KAEtC,EAAAF,EAAAC,cAAaI,EAAkBzC,E","sources":["src/index.js"],"sourcesContent":["\n\nimport { common } from './common';\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\nimport { instruments } from './helpers/instruments';\n\n\n\n\n\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n\n\n\n\nlist.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n\n  if (evt.target.classList.contains('js-info')) {\n    const product = findProduct(evt.target);\n    createModal(product);\n  }\n\n  if (evt.target.classList.contains('js-favorite')) {\n    const product = findProduct(evt.target);\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n    favoriteArr.push(product);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n\n  }\n\n  if (evt.target.classList.contains('js-basket')) {\n    const product = findProduct(evt.target);\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n}\n\ncreateMarkup(instruments, list);\n\nfunction findProduct(elem) {\n    const productId = Number(elem.closest('.js-card').dataset.id);\n\n  return instruments.find(({id}) => id === productId )\n}\n\n\nsearch.addEventListener('input', handleSearch);\n\nfunction handleSearch() {\n  const searchValue = search.value.toLowerCase();\n  const filteredProducts = instruments.filter(product =>\n    product.name.toLowerCase().includes(searchValue)\n  );\n  createMarkup(filteredProducts, list);\n}\n"],"names":["$b8f9b7833fa37166$var$ref","$b8f9b7833fa37166$var$ref1","$7jJJd","parcelRequire","$b8f9b7833fa37166$var$search","document","querySelector","$b8f9b7833fa37166$var$list","$b8f9b7833fa37166$var$favoriteArr","JSON","parse","localStorage","getItem","common","KEY_FAVORITE","$b8f9b7833fa37166$var$basketArr","KEY_BASKET","$b8f9b7833fa37166$var$findProduct","elem","productId","Number","closest","dataset","id","$IPVlA","instruments","find","param","addEventListener","evt","preventDefault","target","classList","contains","product","$87LyB","createModal","product1","some","push","setItem","stringify","product2","$l1rGz","createMarkup","searchValue","value","toLowerCase","filteredProducts","filter","name","includes"],"version":3,"file":"index.92653986.js.map"}